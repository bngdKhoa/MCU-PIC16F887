# INCLUDE <16F887.H>
# DEVICE ADC = 10
# FUSES HS 
# USE DELAY (CLOCK = 20M)
# DEFINE LCD_ENABLE_PIN       PIN_E2
# DEFINE LCD_RW_PIN           PIN_E1
# DEFINE LCD_RS_PIN           PIN_E0
# DEFINE LCD_DATA4            PIN_D4
# DEFINE LCD_DATA5            PIN_D5
# DEFINE LCD_DATA6            PIN_D6
# DEFINE LCD_DATA7            PIN_D7
# INCLUDE <LCD.C>
UNSIGNED INT16 TEMP;

VOID HIENTHI_DONHIETDO()
{
   LCD_GOTOXY(6,1);
   LCD_PUTC ("DO NHIET DO");
}

VOID MAIN ()
{
   SET_TRIS_D (0);
   SET_TRIS_E (0);
   LCD_INIT ();
   HIENTHI_DONHIETDO ();
   SETUP_ADC (ADC_CLOCK_DIV_2);
   SETUP_ADC_PORTS (SAN0|VSS_VDD);
LOOP:
   SET_ADC_CHANNEL (0);
   DELAY_US (5);
   TEMP = READ_ADC () / 2.046;
   LCD_GOTOXY (7,2);
   PRINTF (LCD_PUTC, "TEMP: %02LU C", TEMP);
   LCD_GOTOXY (14,2);
   LCD_PUTC (0XDF);
   IF (TEMP > 35)
   {
      LCD_GOTOXY (2,1);
      LCD_PUTC ("CANH BAO QUA NHIET");
      DELAY_MS (300);
      LCD_GOTOXY (2,1);
      LCD_PUTC ("                  ");
      DELAY_MS (300);
   }
   ELSE 
      HIENTHI_DONHIETDO ();
   GOTO LOOP;
}
   
